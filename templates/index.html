{% extends "base.html" %}

{% block content %}
<div class="card">
    <div id="image-list-container"
         ondrop="dropHandler(event)"
         ondragover="dragOverHandler(event)"
         ondragleave="dragLeaveHandler(event)">
        <div id="drop-hint" style="color: var(--text-muted); text-align: center; width: 100%;">Drop images or paste</div>
    </div>
    <div style="padding: 0.75rem; border-top: 1px solid var(--border);">
        <button class="btn btn-secondary" style="width: 100%; font-size: 12px;" onclick="clearAll()">Clear All</button>
    </div>
</div>

<div class="card content-area">
    <div class="control-group">
        <select id="model-select">
            {% for model in models %}
            <option value="{{ model.id }}" {% if model.id == default_model %}selected{% endif %}>
                {{ model.name }}
            </option>
            {% endfor %}
        </select>

        <div class="toggle-container">
            <label for="reasoning-toggle">Reasoning</label>
            <label class="toggle-switch">
                <input type="checkbox" id="reasoning-toggle" {% if enable_reasoning %}checked{% endif %}>
                <span class="toggle-slider"></span>
            </label>
        </div>
    </div>

    <div id="reasoning-content" style="display: none;">
        <div class="reasoning-header" onclick="toggleReasoningDisplay()">
            <span>Reasoning Content</span>
            <span id="reasoning-toggle-icon">â–¼</span>
        </div>
        <div class="reasoning-body" id="reasoning-display"></div>
    </div>

    <div class="toolbar">
        <input type="text" id="user-prompt" placeholder="Additional prompt (Optional)">
        <button id="btn-recognize" class="btn" onclick="toggleRecognize()">Start</button>
        <button class="btn btn-secondary" onclick="copyResult()">Copy</button>
    </div>
    <div id="result-display"></div>
</div>
{% endblock %}